---
import './banner.scss';
import BannerItem from './Item.astro'
import banners from '@/data/banners.json';
const filteredBanners = banners.filter(banner => banner.show);
---
{
	filteredBanners && (
	<section class="banner relative">
		<div class="banner-wrapper relative min-h-[100px] sm:min-h-[185px] md:min-h-[300px]">
			<div class="relative end-0">
				<div class="swiper banner-slider h-full text-white">
					<div class="swiper-wrapper flex items-end">
						{
							filteredBanners.map(banner => (
								<BannerItem banner={banner} />
							))
						}
					</div>
				</div>

				<div class="swiper-pagination banner-pagination"></div>

				<div class="autoplay-progress">
					<svg viewBox="0 0 48 48">
						<circle cx="24" cy="24" r="20"></circle>
					</svg>
					<span></span>
				</div>

				<div class="swiper-button-prev banner-button-prev !hidden md:!flex"></div>
				<div class="swiper-button-next banner-button-next !hidden md:!flex"></div>
			</div>
		</div>
	</section>
	)
}

<script>
	import './banner'
</script>